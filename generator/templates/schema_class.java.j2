package {{package_name}};

import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonInclude;
import org.openmetadatainitiative.openminds.utils.*;
import java.util.function.Function;

import java.util.ArrayList;
import java.util.List;
import java.util.UUID;

{% for import in imports %}import {{import}};
{% endfor %}

import static {{package_name}}.{{ class_name }}.SEMANTIC_NAME;
/**
 {{java_doc}}
 *
 * ATTENTION! This is an autogenerated file based on the openMINDS schema - do not apply manual changes since they are going to be overwritten.
 */
@InstanceType(SEMANTIC_NAME)
@JsonIgnoreProperties(ignoreUnknown = true)
@JsonInclude(JsonInclude.Include.NON_NULL)
@SuppressWarnings("unused")
public class {{ class_name }} extends Instance implements org.openmetadatainitiative.openminds.OpenMINDS.{{version[0]|upper}}{{version[1:]}}.Entity{% if implemented_interfaces %}, {{ implemented_interfaces|join(', ') }}{% endif %}{
    public static final String SEMANTIC_NAME = "{{ type }}";

    @JsonIgnore
    public Reference<{{ class_name }}> getReference() {
        return doGetReference();
    }

    public static Reference<{{ class_name }}> reference(String instanceId) {
        return new Reference<>(new InstanceId(instanceId));
    }

    /** For deserialization **/
    private {{ class_name }}() {
        this(null);
    }

    private {{ class_name }}(LocalId localId ) {
        super(localId, SEMANTIC_NAME);
    }

    {% if type in embedded_types %}
    public class EmbeddedBuilder {

        {% for property in properties %}public EmbeddedBuilder {{ builder_for_properties[property] }}
        {% endfor %}

        public {{ class_name }} build(){
            return {{ class_name }}.this;
        }
    }

    public static {{ class_name }}.EmbeddedBuilder createEmbedded(){
        return new {{ class_name }}(null).new EmbeddedBuilder();
    }
    {% endif %}

    {%if type not in embedded_types or type not in embedded_only %}
    public class Builder implements org.openmetadatainitiative.openminds.utils.Builder<{{ class_name }}>{
        {% for property in properties %}public Builder {{ builder_for_properties[property] }}
        {% endfor %}

        public {{ class_name }} build(OpenMINDSContext context) {
            {{ class_name }}.super.build(context);
            return {{ class_name }}.this;
        }
    }

    public static {{ class_name }}.Builder create(LocalId localId){
        return new {{ class_name }}(localId).new Builder();
    }

    public {{ class_name }}.Builder copy(){
        return ParsingUtils.OBJECT_MAPPER.convertValue(this, {{ class_name }}.class).new Builder();
    }
    {% endif %}

{% for property in properties %}   @JsonProperty(value = "{%if property in absolute_property_translations%}{{absolute_property_translations[property]}}{%else%}{{property}}{%endif%}")
    {{member_for_properties[property]}}
    {%if property in property_descriptions and property_descriptions[property] %}
    /**
    * {{property_descriptions[property]}}
    */{% endif %}
    {{getter_for_properties[property]}}

 {% endfor %}

}
